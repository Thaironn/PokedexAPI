<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informação do Pokémon</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <h1 style="color:beige;">Detalhes do Pokémon</h1>
        <nav>
            <a href="index.html">Voltar para a Pokedex</a>
        </nav>
    </header>

    <div id="pokemonDetails"></div>

    <script>
        async function carregarDetalhesDoPokemon() {
            const informacaoURL = new URLSearchParams(window.location.search);
            const id = informacaoURL.get('id');
            const fetchPokemon = async (id) => {
                const url = `https://pokeapi.co/api/v2/pokemon/${id}`;
                const resp = await fetch(url);
                const data = await resp.json();
                return data;
            };

            const pokemon = await fetchPokemon(id);

            const divDetalhesPokemon = document.getElementById('pokemonDetails');

            divDetalhesPokemon.innerHTML = `
                <div style="text-align: center";>
                    <h2>${pokemon.name.toUpperCase()}</h2>
                    <h3 class="type ${pokemon.types[0].type.name}-type">${pokemon.types.map(type => type.type.name).join(', ')}</h3>
                    <img src="${pokemon.sprites.front_default}" alt="${pokemon.name}">
                    <img src="${pokemon.sprites.back_default}" alt="${pokemon.name}">
                </div>
                
                <div>
                    <h3 style="text-align: center">Status</h3>
                    <ul>
                        ${pokemon.stats.map(stat => `<li>${stat.stat.name.toUpperCase()} - ${stat.base_stat}</li>`).join('')}
                    </ul>
                </div>

                <div>
                    <h3 style="text-align: center">Movimentos</h3>
                    <ul>
                        ${pokemon.moves.slice(0, 5).map(move => `<li>${move.move.name.toUpperCase()}</li>`).join('')}
                        ${pokemon.moves.length > 5 ? '<li>...</li>' : ''}
                    </ul>
                </div>
            `;
        }

        carregarDetalhesDoPokemon();

    </script>

</body>

</html>